# 🔔 모던 자바스크립트 Deep Dive 27장

**27장 배열**

```
27-1. 배열이란?
    - 여러 개의 값을 순차적으로 나열한 자료구조다.
    - 자바스크립트는 배열을 다루기 위한 유용한 메서드를 다수 제공한다.
    - 배열이 가지고 있는 값을 요소라고 부른다.
      원시값, 객체, 함수, 배열 등이 배열의 요소가 될 수 있다.
    - 배열의 요소는 배열에서 자신의 위치를 나타내는 0이상의 정수인 인덱스를 갖고
      인덱스는 0부터 시작한다.
    - 요소에 접근할 때는 대괄호 표기법을 사용한다.
      > arr[0] , arr[1]
    - 배열은 요소의 개수, 즉 배열의 길이를 나타내는 length 프로퍼티를 갖는다.
    - 배열은 인덱스와 length 프로퍼티를 갖고있으므로 for문을 통해 순차적으로 요소에 접근할 수 있다.
    - 배열은 객체 타입이다.
    - 배열의 생성자 함수는 Array이며, 배열의 프로토타입 객체는 Array.prototype이다.
      Array.prototype은 배열을 위한 빌트인 메서드를 제공한다.
    - 일반 객체와 배열의 가장 명확한 차이는 index와 length 프로퍼티이다.

27-2. 자바스크립트 배열은 배열이 아니다.
    - 배열의 요소는 하나의 데이터 타입으로 통일되어 있으며 서로 연속적으로 인접해 있다.
      이러한 배열을 밀집 배열이라 한다.
    - 허나 자바스크립트의 배열은 배열의 요소가 하나의 데이터 타입으로 통일되어 있지 않으며,
      연속적으로 이어져 있지 않을 수도 있다.
      배열의 요소가 연속적으로 이어져 있지 않고 배열 공간 안에 띄엄띄엄 있을 수 있는 배열을
      희소배열이라고 한다.
    - 자바스크립트의 배열은 일반적인 배열의 동작을 흉내 낸 특수한 객체다.
      > Object.getOwnPropertyDescriptors([1,2,3])
        {
          '0':{value:1,writable:true,enumerable:true,configurable:true}
          '1':{value:2,writable:true,enumerable:true,configurable:true}
          '2':{value:3,writable:true,enumerable:true,configurable:true}
          length:{value:3,writable:true,enumerable:false,configurable:false}
        }
    - 자바스크립트 배열은 인덱스를 나타내는 문자열을 프로퍼티 키로 가지며,
      length 프로퍼티를 갖는 특수한 객체다.
      자바스크립트 배열의 요소는 사실 프로퍼티 값이다.
      어떤 타입의 값이라도 배열의 요소가 될 수 있다.
    - 자바스크립트 배열은 인덱스로 배열 요소에 접근하는 경우에는 일반적인 배열보다
      느리지만 특정 요소를 검색하거나 요소를 삽입 또는 삭제하는 경우에는
      일반적인 배열보다 빠르다.

27-3. length 프로퍼티와 희소 배열
    - length 프로퍼티는 배열의 길이를 나타내는 0이상의 정수를 값으로 갖는다.
    - length 프로퍼티 값은 명시적으로 할당할 수도 있다.
      배열의 요소의 개수보다 적은 값을 할당하면 배열의 요소도 그만큼 줄어든다.
    - 배열의 요소가 연속적으로 위치하지 않고 일부가 비어 있는 배열을 희소 배열이라고 한다.
      > [1,2,empty,4,empty,empty,7,8]
    - 희소 배열은 사용하지 않는 것이 좋다.
      배열에는 같은 타입의 요소를 연속적으로 위치시키는 것이 최선이다.

27-4. 배열 생성
    - 배열 리터럴
      > 가장 일반적이고 간편한 배열 생성 방식이다.
      > 0개 이상의 요소를 쉼표로 구분하여 대괄호([])로 묶는다.
    - Array 생성자 함수
      > 전달된 인수가 1개이고 숫자인 경우 인수는 length 프로퍼티 값이 된다.
        > const arr = new Array(5)      // [empty x 5]
      > 전달된 인수가 없는 경우 빈 배열을 생성한다.
        > const arr = new Array()       // []
      > 전달된 인수가 2개 이상이거나 숫자가 아닌 경우 인수를 요소로 갖는 배열을 생성한다.
        > const arr = new Array(1,2)    // [1,2]
          const arr = new Array("a")    // ["a"]
    - Array.of
      > Array.of 는 인수가 1개이고 숫자이더라도 인수를 요소로 갖는 배열을 생성한다.
        > Array.of(1)   // [1]
    - Array.from
      > 유사 배열 객체 또는 이터러블 객체를 인수로 전달받아 배열로 변환하여 반환한다.
        > Array.from({length:2,0:"a",1:"b"})    // [a,b]
          Array.from("Hello")   // ["H","e","l","l","o"]
      > Array.from을 사용하면 두번째 인수로 전달한 콜백 함수를 통해 값을 만들면서
        요소를 채울 수 있다.
        두번째 인수로 전달한 콜백 함수는 첫번째 인수에 의해 생성된 배열의 요소값과 인덱스를 순차적으로 전달받고, 콜백 함수의 반환값으로 구성된 배열을 반환한다.
        > Array.from({length:3}, (v,i)=>i)

27-5. 배열 요소의 참조
    - 배열의 요소를 참조할 때에는 대괄호([])표기법을 사용한다.
      대괄호 안에는 인덱스가 와야 한다.

27-6. 배열 요소의 추가와 갱신
    - 존재하지 않는 인덱스를 사용해 값을 할당하면 새로운 요소가 추가된다.
      > // arr = [0]
        arr[1] = 1      // arr = [0,1]
    - 존재하는 요소에 값을 재할당하면 요소값이 갱신된다.
      > arr[1] = 2      // arr = [0,2]
    - 만약 정수 이외의 값을 인덱스처럼 사용하면 요소가 생성되는 것이 아니라
      프로퍼티가 생성된다. 프로퍼티는 length에 영향을 주지 않는다.
      > arr['foo'] = 3  // arr = [0,2,foo:3]
        arr.bar = 4     // arr = [0,2,foo:3,bar=4]
        arr[1.5] = 5    // arr = [0,2,foo:3,bar=4,"1.5":5]

27-7. 배열 요소의 삭제
    - 배열의 특정 요소를 삭제하기 위해 delete 연산자를 사용할 수 있다.
      > delete arr[4]   // arr = [0,2,foo:3,bar=4]
        delete arr[3]   // arr = [0,2,foo:3]
        delete arr[2]   // arr = [0,2]
    - delete연산자는 배열의 요소를 empty로 바꿔버린다.
      고로 delete연산자의 사용은 금지하는게 좋다. (희소배열이 되기 때문)
    - 배열의 요소를 완전 삭제 하려면 splice 메서드를 이용하자
      > arr.splice(1,1) // arr = [0]
```
